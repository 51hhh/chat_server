<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>title</title>


    <style>
        /* 将CSS规则定义在外部样式表中 */
        /* 为所有设备设置基础样式 */
        body {
        background-color: rgb(241, 147, 156);
        }

        #container {
        width: 80vw; /* 容器宽度基于视口宽度 */
        margin: auto;
        }

        #header {
        background-color: #FFA500;
        }

        #header h1 {
        margin-bottom: 0;
        }

        #menu {
        background-color: #FFD700;
        width: 10vw; /* 菜单宽度基于视口宽度 */
        float: left;
        }

        #content {
        background-color: #EEEEEE;
        width: 70vw; /* 内容区域宽度基于视口宽度 */
        float: left;
        }

        #footer {
        background-color: #FFA500;
        text-align: center;
        }

        /* 示例媒体查询：当视口宽度小于某个特定值时 */
        @media (max-width: 600px) {
        #container, #menu, #content {
            width: 100vw; /* 在小屏幕上容器、菜单和内容占满整个视口宽度 */
        }
        }
    </style>

    <script>
        function showmessage(message){
            alert(message);
        }
    </script>


    <script>
        // 该函数会在页面加载完毕后立即执行，并且每隔1000毫秒（1秒）更新一次时间。
        window.onload = function() {
        setInterval(displayDate, 1000);
        };
        
        function displayDate(){
        document.getElementById("demo").innerHTML = new Date().toLocaleTimeString();
        }
    </script>



</head>

<body style="background-color:rgb(241, 147, 156);"></body>
<body>


    <div id="container" style="width:100vw;"> 
 
        <div id="header" style="background-color:#FFA500; width:100%;">
        <h1 style="margin-bottom:0;">chat_web</h1></div>
         
        <div id="menu" style="background-color:#FFD700;height:80vh;width:8vw;float:left;">
        <b>sign</b>
        </div>
         
        <div id="content" style="background-color:#EEEEEE;height:80vh;width:92vw;float:left;">
            <!-- 添加ID以便可以通过JavaScript引用 -->
            <div id="iframe-container"></div>
        </div>
         
        <div id="footer" style="background-color:#FFA500;clear:both;text-align:center;width:100%;">
            <p id="demo"></p>
        </div>
         
    </div>
   

    <script>
        // 创建一个URLSearchParams对象，传入当前页面URL的查询字符串
        const queryParams = new URLSearchParams(window.location.search);
        // 使用get方法来检索'token'查询参数的值
        const userid = queryParams.get('userid');
        const token = queryParams.get('token');


        // 创建iframe的src属性
        var iframeSrc = `/chat_web/message/?token=${encodeURIComponent(token)}&userid=${encodeURIComponent(userid)}`;

        // 获取容器元素的引用
        var container = document.getElementById('iframe-container');

        // 创建一个新的iframe元素
        var iframe = document.createElement('iframe');
        iframe.src = iframeSrc;
        iframe.style.width = '1200px'; // 可以设置宽度
        iframe.style.height = '600px'; // 可以设置高度

        // 将iframe元素添加到容器中
        container.appendChild(iframe);
    </script>

</body>
</html>
